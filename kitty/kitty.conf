# Font --------------------------
font_family     Iosevka
font_size          17.0
macos_thicken_font 0.25

# Cursor customization ----------
cursor            #cc231c
cursor_text_color #ebdbb2
cursor_blink_interval 0.5

# Mouse -------------------------
mouse_hide_wait              0.1
url_color                #d65c0d
open_url_with            default
copy_on_select               yes
click_interval               0.5
focus_follows_mouse          yes
default_pointer_shape       hand
pointer_shape_when_dragging hand
# pending vim mode

# Performance tuning ------------
# repaint_delay 10
repaint_delay    1
# input_delay    3
input_delay      1

# Window layout -----------------
remember_window_size    yes
enabled_layouts    stack, *
window_resize_step_cells  3
window_resize_step_lines  3
inactive_text_alpha    0.65
hide_window_decorations yes
confirm_os_window_close   1

# Tab bar -----------------------
tab_bar_edge                  top
tab_bar_min_tabs                2
tab_title_template "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{title[title.rfind('/')+1:]} [{num_windows}]"
active_tab_foreground     #ebdbb2
active_tab_background     #4f0000
active_tab_font_style bold-italic
inactive_tab_foreground   #928373
inactive_tab_background   #272727

# Color scheme ------------------
foreground             #ebdbb2
background             #0B0B0B
# background           #002b36
# background           #272727
background_opacity         .85
# Performance cost:
dynamic_background_opacity yes
selection_foreground   #655b53
selection_background   #ebdbb2

# The color table ---------------
# black
color0  #272727
color8  #928373
# red
color1  #cc231c
color9  #fb4833
# green
color2  #989719
color10 #b8ba25
# yellow
color3  #d79920
color11 #fabc2e
# blue
color4  #448488
color12 #83a597
# magenta
color5  #b16185
color13 #d3859a
# cyan
color6  #689d69
color14 #8ec07b
# white
color7  #a89983
color15 #ebdbb2

# Advanced ----------------------
# shell fish
startup_session ./startup.conf

# Keyboard shortcuts ------------
# Available ctrl+shift keys:
# q (close tab), w (close window) r (resize), t (new tab) y, p
# a, s, v (reset_window_sizes), m

# Scrolling
map ctrl+shift+o                         scroll_line_up
map ctrl+shift+i                       scroll_line_down
map ctrl+shift+u                         scroll_page_up
map ctrl+shift+d                       scroll_page_down
map ctrl+shift+k                             scroll_end

# Window management
map ctrl+shift+cmd+option+semicolon new_window_with_cwd
map ctrl+shift+cmd+option+c                close_window
map ctrl+g                                  next_window
map ctrl+t                                  prev_window
map ctrl+shift+v                     reset_window_sizes
map cmd+u                         resize_window wider 3
map cmd+i                        resize_window taller 3
map cmd+o                       resize_window shorter 3
map cmd+p                      resize_window narrower 3

# Tab management
map ctrl+space                                 next_tab
map ctrl+m                                 previous_tab
map ctrl+shift+cmd+option+g            new_tab_with_cwd
map ctrl+shift+cmd+option+v                   close_tab
map ctrl+shift+]                       move_tab_forward
map ctrl+shift+[                      move_tab_backward
map ctrl+shift+cmd+option+r               set_tab_title
map ctrl+1                                   goto_tab 1
map ctrl+2                                   goto_tab 2
map ctrl+3                                   goto_tab 3
map ctrl+4                                   goto_tab 4
map ctrl+5                                   goto_tab 5

# Layout management
map ctrl+shift+space                toggle_layout stack
# map ctrl+shift+cmd+option+space kitten zoom_toggle.py

# Miscellaneous
map ctrl+shift+cmd+option+] set_background_opacity +0.1
map ctrl+shift+cmd+option+[ set_background_opacity -0.1

# Important defaults
# ctrl+shift+g last cmd output (quite useful)
# ctrl+shift+e open url in with hints
# ctrl+shift+f move window forward
# ctrl+shift+b move window backward
# ctrl+shift+r resize window menu

# Karabiner reference (adjust transparency)
# {
#   "conditions": [
#     {
#       "bundle_identifiers": ["^net\\.kovidgoyal\\.kitty$"],
#       "type": "frontmost_application_if"
#     }
#   ],
#   "from": {
#     "key_code": "open_bracket",
#     "modifiers": {
#       "mandatory": [
#         "left_shift",
#         "left_command",
#         "left_control",
#         "left_option"
#       ]
#     }
#   },
#   "to": [
#     {
#       "key_code": "a",
#       "modifiers": ["left_shift", "right_control"],
#       "hold_down_milliseconds": 100
#     },
#     {
#       "key_code": "l"
#     }
#   ],
#   "type": "basic"
# },

# BEGIN_KITTY_THEME
include ~/.config/kitty/themes/Srcery.conf
# END_KITTY_THEME
